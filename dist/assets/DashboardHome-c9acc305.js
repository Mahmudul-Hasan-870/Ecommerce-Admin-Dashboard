import{u as P}from"./orders-69ded9c2.js";import{u as j}from"./products-4e6469c5.js";import{u as D}from"./currency-8a82974f.js";import{a as S}from"./index-713483bf.js";import{_ as R}from"./Avatar-68d237c2.js";import{a as A,r as T,b as U}from"./UsersIcon-ae56d0fd.js";import{o,c as r,k as t,D as d,J as V,p as a,a as i,u as c,w as f,F as b,v as k,r as B,l as g,g as C}from"./vendor-513bb039.js";import"./settings-a6e2b395.js";function M(O,m){return o(),r("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}const N={class:"space-y-6"},$={key:0,class:"flex items-center justify-center min-h-[60vh]"},z={key:1,class:"flex items-center justify-center min-h-[60vh]"},E={class:"text-center"},F={class:"text-base text-red-600 mb-6"},L={key:2},J={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},H={class:"card"},I={class:"flex items-center"},Z={class:"flex-shrink-0"},q={class:"w-8 h-8 bg-primary-100 rounded-lg flex items-center justify-center"},G={class:"ml-4"},K={class:"text-2xl font-semibold text-gray-900"},Q={class:"card"},W={class:"flex items-center"},X={class:"flex-shrink-0"},Y={class:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center"},tt={class:"ml-4"},et={class:"text-2xl font-semibold text-gray-900"},st={class:"card"},at={class:"flex items-center"},ot={class:"flex-shrink-0"},rt={class:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center"},it={class:"ml-4"},lt={class:"text-2xl font-semibold text-gray-900"},nt={class:"card"},dt={class:"flex items-center"},ct={class:"flex-shrink-0"},xt={class:"w-8 h-8 bg-yellow-100 rounded-lg flex items-center justify-center"},ut={class:"ml-4"},mt={class:"text-2xl font-semibold text-gray-900"},pt={class:"card"},_t={class:"flex items-center justify-between mb-6"},yt={class:"overflow-x-auto"},ft={class:"min-w-full divide-y divide-gray-200"},gt={class:"bg-white divide-y divide-gray-200"},vt={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},ht={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},wt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},bt={class:"px-6 py-4 whitespace-nowrap"},kt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Ct={class:"card"},Ot={class:"flex items-center justify-between mb-6"},Pt={class:"overflow-x-auto"},jt={class:"min-w-full divide-y divide-gray-200"},Dt={class:"bg-white divide-y divide-gray-200"},St={class:"px-6 py-4 whitespace-nowrap"},Rt={class:"flex items-center"},At={class:"ml-4"},Tt={class:"text-sm font-medium text-gray-900"},Ut={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Vt={class:"px-6 py-4 whitespace-nowrap"},Bt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Mt={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},Nt={class:"flex space-x-2"},Zt={__name:"DashboardHome",setup(O){P(),j();const m=D(),p=d(!0),u=d(null),l=d({totalOrders:0,totalRevenue:0,totalProducts:0,totalUsers:0}),_=d([]),v=d([]),y=d([]),h=x=>new Date(x).toLocaleDateString(),w=async()=>{var x,e;try{p.value=!0,u.value=null;const s=(await S.get("/dashboard/stats")).data;l.value={totalOrders:s.stats.totalOrders||0,totalRevenue:s.stats.totalRevenue||0,totalProducts:s.stats.totalProducts||0,totalUsers:s.stats.totalUsers||0},_.value=s.recentOrders||[],v.value=s.lowStockProducts||[],y.value=s.recentCustomers||[]}catch(n){u.value=((e=(x=n.response)==null?void 0:x.data)==null?void 0:e.message)||"Failed to fetch dashboard data",l.value={totalOrders:0,totalRevenue:0,totalProducts:0,totalUsers:0},_.value=[],v.value=[],y.value=[]}finally{p.value=!1}};return V(async()=>{await w()}),(x,e)=>{const n=B("router-link");return o(),r("div",N,[p.value?(o(),r("div",$,e[0]||(e[0]=[t("div",{class:"text-center"},[t("div",{class:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary-600 mx-auto"}),t("p",{class:"mt-6 text-lg text-gray-600 font-medium"},"Loading dashboard data...")],-1)]))):u.value?(o(),r("div",z,[t("div",E,[e[1]||(e[1]=t("div",{class:"mb-6"},[t("svg",{class:"w-16 h-16 mx-auto text-red-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e[2]||(e[2]=t("p",{class:"text-xl font-medium text-gray-900 mb-3"},"Error loading dashboard",-1)),t("p",F,a(u.value),1),t("button",{onClick:w,class:"px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors duration-200 font-medium"}," Try Again ")])])):(o(),r("div",L,[t("div",J,[t("div",H,[t("div",I,[t("div",Z,[t("div",q,[i(c(A),{class:"w-5 h-5 text-primary-600"})])]),t("div",G,[e[3]||(e[3]=t("p",{class:"text-sm font-medium text-gray-500"},"Total Orders",-1)),t("p",K,a(l.value.totalOrders),1)])])]),t("div",Q,[t("div",W,[t("div",X,[t("div",Y,[i(c(M),{class:"w-5 h-5 text-green-600"})])]),t("div",tt,[e[4]||(e[4]=t("p",{class:"text-sm font-medium text-gray-500"},"Total Revenue",-1)),t("p",et,a(c(m).formatPrice(l.value.totalRevenue)),1)])])]),t("div",st,[t("div",at,[t("div",ot,[t("div",rt,[i(c(T),{class:"w-5 h-5 text-blue-600"})])]),t("div",it,[e[5]||(e[5]=t("p",{class:"text-sm font-medium text-gray-500"},"Total Products",-1)),t("p",lt,a(l.value.totalProducts),1)])])]),t("div",nt,[t("div",dt,[t("div",ct,[t("div",xt,[i(c(U),{class:"w-5 h-5 text-yellow-600"})])]),t("div",ut,[e[6]||(e[6]=t("p",{class:"text-sm font-medium text-gray-500"},"Total Customers",-1)),t("p",mt,a(l.value.totalUsers),1)])])])]),t("div",pt,[t("div",_t,[e[8]||(e[8]=t("h3",{class:"text-lg font-medium text-gray-900"},"Recent Orders",-1)),i(n,{to:"/orders",class:"text-primary-600 hover:text-primary-700 text-sm font-medium"},{default:f(()=>e[7]||(e[7]=[g(" View all ",-1)])),_:1,__:[7]})]),t("div",yt,[t("table",ft,[e[9]||(e[9]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Order ID "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Customer "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Amount "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Date ")])],-1)),t("tbody",gt,[(o(!0),r(b,null,k(_.value,s=>(o(),r("tr",{key:s._id},[t("td",vt," #"+a(s._id.slice(-8)),1),t("td",ht,a(s.userName),1),t("td",wt,a(c(m).formatPrice(s.total)),1),t("td",bt,[t("span",{class:C(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",{"bg-yellow-100 text-yellow-800":s.status==="pending","bg-blue-100 text-blue-800":s.status==="processing","bg-purple-100 text-purple-800":s.status==="shipped","bg-green-100 text-green-800":s.status==="delivered","bg-red-100 text-red-800":s.status==="cancelled"}])},a(s.status.charAt(0).toUpperCase()+s.status.slice(1)),3)]),t("td",kt,a(h(s.createdAt)),1)]))),128))])])])]),e[14]||(e[14]=t("div",{class:"h-12"},null,-1)),t("div",Ct,[t("div",Ot,[e[11]||(e[11]=t("h3",{class:"text-lg font-medium text-gray-900"},"Recent Customers",-1)),i(n,{to:"/customers",class:"text-primary-600 hover:text-primary-700 text-sm font-medium"},{default:f(()=>e[10]||(e[10]=[g(" View all ",-1)])),_:1,__:[10]})]),t("div",Pt,[t("table",jt,[e[13]||(e[13]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Customer "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Email "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Joined "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),t("tbody",Dt,[(o(!0),r(b,null,k(y.value,s=>(o(),r("tr",{key:s._id},[t("td",St,[t("div",Rt,[i(R,{src:s.avatar,name:s.name,size:"md"},null,8,["src","name"]),t("div",At,[t("div",Tt,a(s.name),1)])])]),t("td",Ut,a(s.email),1),t("td",Vt,[t("span",{class:C(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",{"bg-green-100 text-green-800":s.status==="active","bg-red-100 text-red-800":s.status==="inactive"}])},a(s.status||"active"),3)]),t("td",Bt,a(h(s.createdAt)),1),t("td",Mt,[t("div",Nt,[i(n,{to:"/customers",class:"text-primary-600 hover:text-primary-900"},{default:f(()=>e[12]||(e[12]=[g(" View ",-1)])),_:1,__:[12]})])])]))),128))])])])])]))])}}};export{Zt as default};
