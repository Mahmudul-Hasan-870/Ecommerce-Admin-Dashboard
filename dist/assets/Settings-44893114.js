import{D as u,J as V,L as $,c as p,k as e,a as A,s as N,E as o,G as x,M as g,N as P,F as H,v as z,p as c,j as h,O as n,g as b,o as m}from"./vendor-513bb039.js";import{u as L,a as k}from"./index-713483bf.js";import{u as Z}from"./settings-a6e2b395.js";import{u as I}from"./currency-8a82974f.js";import{a as w,s as D}from"./toast-489a8a13.js";import{d as j}from"./confirm-78191804.js";import{_ as G}from"./LoadingSpinner-18e73781.js";import{i as E,u as q}from"./theme-d3f726f4.js";import{_ as J}from"./Avatar-68d237c2.js";const O={class:"space-y-6"},W={key:0,class:"flex justify-center items-center py-12"},X={key:1,class:"space-y-6"},Q={class:"card"},_={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ee={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},te={class:"card"},se={class:"flex items-center justify-between mb-4"},ae={class:"overflow-x-auto"},oe={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},ie={class:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700"},le={class:"px-6 py-4 whitespace-nowrap"},ne={class:"flex items-center"},re={class:"flex-shrink-0 h-10 w-10"},de={class:"ml-4"},ue={class:"text-sm font-medium text-gray-900 dark:text-white"},pe={class:"text-sm text-gray-500 dark:text-gray-400"},me={class:"px-6 py-4 whitespace-nowrap"},ve={class:"px-6 py-4 whitespace-nowrap"},xe={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},ce=["onClick"],ge=["onClick"],ye={key:2,class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50"},fe={class:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white dark:bg-gray-800"},be={class:"mt-3"},ke={class:"text-lg font-medium text-gray-900 dark:text-white mb-4"},we={key:0},De={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},Ue={class:"flex items-center"},Se={class:"flex items-center"},Ce={class:"flex items-center"},Re={class:"flex items-center"},Ye={class:"flex items-center"},Me={class:"flex items-center"},Ve={class:"flex items-center"},Ae={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},Ne={class:"flex items-center"},Pe={class:"flex items-center"},he={class:"flex items-center"},Ee={class:"flex items-center"},Fe={class:"flex items-center justify-between"},Ke={class:"flex justify-end space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700"},Te=["disabled"],Je={__name:"Settings",setup(Be){L();const d=Z(),C=I(),v=u(!1),y=u(!1),U=u(!1),r=u(!1),R=u([]),a=u({name:"",email:"",password:"",phone:"",role:"",isActive:!0,permissions:{dashboard:!0,products:!0,orders:!0,customers:!0,categories:!0,settings:!1,notifications:!0,canCreate:!0,canEdit:!0,canDelete:!1,canView:!0}}),i=u({siteName:"Admin Panel",siteDescription:"Modern admin panel for e-commerce",currency:"USD",timezone:"UTC",dateFormat:"MM/DD/YYYY",timeFormat:"12h",itemsPerPage:10,notifications:{email:!0,push:!0},theme:{primaryColor:"#3B82F6",secondaryColor:"#6B7280",darkMode:!1}});V(async()=>{v.value=!0;try{await d.fetchSettings(),i.value={...d.settings},E(i.value)}catch{}finally{v.value=!1}}),$(()=>i.value.theme,l=>{q(l)},{deep:!0});const Y=async()=>{const l=await d.updateSettings(i.value);l.success?(i.value.currency!==C.currency&&await C.updateCurrency(i.value.currency),w("Settings")):D("Update settings",l.error)},F=async()=>{j("settings",async()=>{const l=await d.resetSettings();l.success?(i.value={...d.settings},w("Settings")):D("Reset settings",l.error)})},S=async()=>{try{const l=await k.get("/users");R.value=l.data}catch(l){console.error("Failed to fetch users:",l)}finally{v.value=!1}},K=async()=>{var l,t;y.value=!0;try{let s;r.value?s=await k.put(`/users/${a.value._id}`,a.value):s=await k.post("/users",a.value),w(r.value?"User updated":"User created"),M(),await S()}catch(s){D("Save user",((t=(l=s.response)==null?void 0:l.data)==null?void 0:t.message)||s.message)}finally{y.value=!1}},T=l=>{a.value={...l},r.value=!0},B=async l=>{var t,s;if(confirm("Are you sure you want to delete this user?"))try{await k.delete(`/users/${l}`),w("User deleted"),await S()}catch(f){D("Delete user",((s=(t=f.response)==null?void 0:t.data)==null?void 0:s.message)||f.message)}},M=()=>{U.value=!1,r.value=!1,a.value={name:"",email:"",password:"",phone:"",role:"",isActive:!0,permissions:{dashboard:!0,products:!0,orders:!0,customers:!0,categories:!0,settings:!1,notifications:!0,canCreate:!0,canEdit:!0,canDelete:!1,canView:!0}}};return V(async()=>{v.value=!0;try{await d.fetchSettings(),i.value={...d.settings},E(i.value),await S()}catch{}finally{v.value=!1}}),(l,t)=>(m(),p("div",O,[e("div",{class:"mb-6"},[e("div",{class:"flex items-center justify-between"},[t[24]||(t[24]=e("div",null,[e("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Settings"),e("p",{class:"text-gray-600 dark:text-gray-400 mt-1"},"Manage your application settings and preferences")],-1)),e("div",{class:"flex items-center space-x-3"},[e("button",{onClick:F,class:"btn-secondary"}," Reset to Default ")])])]),v.value?(m(),p("div",W,[A(G,{message:"Loading settings..."})])):(m(),p("div",X,[e("div",Q,[t[35]||(t[35]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-4"},"General Settings",-1)),e("form",{onSubmit:N(Y,["prevent"]),class:"space-y-4"},[e("div",_,[e("div",null,[t[25]||(t[25]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Site Name",-1)),o(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>i.value.siteName=s),type:"text",class:"input-field mt-1"},null,512),[[x,i.value.siteName]])]),e("div",null,[t[27]||(t[27]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Currency",-1)),o(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>i.value.currency=s),class:"input-field mt-1"},t[26]||(t[26]=[P('<option value="USD">USD ($) - US Dollar</option><option value="EUR">EUR (€) - Euro</option><option value="GBP">GBP (£) - British Pound</option><option value="BDT">BDT (৳) - Bangladeshi Taka</option><option value="INR">INR (₹) - Indian Rupee</option><option value="JPY">JPY (¥) - Japanese Yen</option><option value="CAD">CAD (C$) - Canadian Dollar</option><option value="AUD">AUD (A$) - Australian Dollar</option><option value="CHF">CHF (CHF) - Swiss Franc</option><option value="CNY">CNY (¥) - Chinese Yuan</option><option value="KRW">KRW (₩) - South Korean Won</option><option value="SGD">SGD (S$) - Singapore Dollar</option><option value="HKD">HKD (HK$) - Hong Kong Dollar</option><option value="NZD">NZ$ (NZ$) - New Zealand Dollar</option><option value="SEK">SEK (kr) - Swedish Krona</option><option value="NOK">NOK (kr) - Norwegian Krone</option><option value="DKK">DKK (kr) - Danish Krone</option><option value="PLN">PLN (zł) - Polish Złoty</option><option value="CZK">CZK (Kč) - Czech Koruna</option><option value="HUF">HUF (Ft) - Hungarian Forint</option><option value="RUB">RUB (₽) - Russian Ruble</option><option value="TRY">TRY (₺) - Turkish Lira</option><option value="BRL">BRL (R$) - Brazilian Real</option><option value="MXN">MXN ($) - Mexican Peso</option><option value="ZAR">ZAR (R) - South African Rand</option><option value="AED">AED (د.إ) - UAE Dirham</option><option value="SAR">SAR (ر.س) - Saudi Riyal</option><option value="THB">THB (฿) - Thai Baht</option><option value="MYR">MYR (RM) - Malaysian Ringgit</option><option value="IDR">IDR (Rp) - Indonesian Rupiah</option><option value="PHP">PHP (₱) - Philippine Peso</option><option value="VND">VND (₫) - Vietnamese Dong</option>',32)]),512),[[g,i.value.currency]])])]),e("div",null,[t[28]||(t[28]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Site Description",-1)),o(e("textarea",{"onUpdate:modelValue":t[2]||(t[2]=s=>i.value.siteDescription=s),rows:"2",class:"input-field mt-1"},null,512),[[x,i.value.siteDescription]])]),e("div",ee,[e("div",null,[t[30]||(t[30]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Timezone",-1)),o(e("select",{"onUpdate:modelValue":t[3]||(t[3]=s=>i.value.timezone=s),class:"input-field mt-1"},t[29]||(t[29]=[e("option",{value:"UTC"},"UTC",-1),e("option",{value:"EST"},"Eastern Time",-1),e("option",{value:"PST"},"Pacific Time",-1)]),512),[[g,i.value.timezone]])]),e("div",null,[t[32]||(t[32]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Date Format",-1)),o(e("select",{"onUpdate:modelValue":t[4]||(t[4]=s=>i.value.dateFormat=s),class:"input-field mt-1"},t[31]||(t[31]=[e("option",{value:"MM/DD/YYYY"},"MM/DD/YYYY",-1),e("option",{value:"DD/MM/YYYY"},"DD/MM/YYYY",-1),e("option",{value:"YYYY-MM-DD"},"YYYY-MM-DD",-1)]),512),[[g,i.value.dateFormat]])]),e("div",null,[t[34]||(t[34]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Time Format",-1)),o(e("select",{"onUpdate:modelValue":t[5]||(t[5]=s=>i.value.timeFormat=s),class:"input-field mt-1"},t[33]||(t[33]=[e("option",{value:"12h"},"12 Hour",-1),e("option",{value:"24h"},"24 Hour",-1)]),512),[[g,i.value.timeFormat]])])]),e("button",{onClick:Y,class:"btn-primary mt-4"}," Update Settings ")],32)]),e("div",te,[e("div",se,[t[36]||(t[36]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"},"User Management",-1)),e("button",{onClick:t[6]||(t[6]=s=>U.value=!0),class:"btn-primary"}," Add User ")]),e("div",ae,[e("table",oe,[t[37]||(t[37]=e("thead",{class:"bg-gray-50 dark:bg-gray-800"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"User"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Role"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Status"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Actions")])],-1)),e("tbody",ie,[(m(!0),p(H,null,z(R.value,s=>(m(),p("tr",{key:s._id},[e("td",le,[e("div",ne,[e("div",re,[A(J,{name:s.name,size:"sm"},null,8,["name"])]),e("div",de,[e("div",ue,c(s.name),1),e("div",pe,c(s.email),1)])])]),e("td",me,[e("span",{class:b(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",{"bg-red-100 text-red-800":s.role==="admin","bg-blue-100 text-blue-800":s.role==="manager","bg-green-100 text-green-800":s.role==="editor","bg-gray-100 text-gray-800":s.role==="viewer"}])},c(s.role),3)]),e("td",ve,[e("span",{class:b(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",{"bg-green-100 text-green-800":s.isActive,"bg-red-100 text-red-800":!s.isActive}])},c(s.isActive?"Active":"Inactive"),3)]),e("td",xe,[e("button",{onClick:f=>T(s),class:"text-primary-600 hover:text-primary-900 dark:text-primary-400 dark:hover:text-primary-300 mr-3"}," Edit ",8,ce),e("button",{onClick:f=>B(s._id),class:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300"}," Delete ",8,ge)])]))),128))])])])])])),U.value||r.value?(m(),p("div",ye,[e("div",fe,[e("div",be,[e("h3",ke,c(r.value?"Edit User":"Create New User"),1),e("form",{onSubmit:N(K,["prevent"]),class:"space-y-4"},[e("div",null,[t[38]||(t[38]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Name",-1)),o(e("input",{"onUpdate:modelValue":t[7]||(t[7]=s=>a.value.name=s),type:"text",class:"input-field mt-1",required:""},null,512),[[x,a.value.name]])]),e("div",null,[t[39]||(t[39]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Email",-1)),o(e("input",{"onUpdate:modelValue":t[8]||(t[8]=s=>a.value.email=s),type:"email",class:"input-field mt-1",required:""},null,512),[[x,a.value.email]])]),r.value?h("",!0):(m(),p("div",we,[t[40]||(t[40]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Password",-1)),o(e("input",{"onUpdate:modelValue":t[9]||(t[9]=s=>a.value.password=s),type:"password",class:"input-field mt-1",required:""},null,512),[[x,a.value.password]])])),e("div",null,[t[41]||(t[41]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Phone",-1)),o(e("input",{"onUpdate:modelValue":t[10]||(t[10]=s=>a.value.phone=s),type:"tel",class:"input-field mt-1"},null,512),[[x,a.value.phone]])]),e("div",null,[t[43]||(t[43]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Role",-1)),o(e("select",{"onUpdate:modelValue":t[11]||(t[11]=s=>a.value.role=s),class:"input-field mt-1",required:""},t[42]||(t[42]=[P('<option value="">Select Role</option><option value="admin">Administrator - Full access to all features</option><option value="manager">Manager - Manage products, orders, customers</option><option value="editor">Editor - Create and edit content</option><option value="viewer">Viewer - View-only access</option><option value="staff">Staff - Limited access</option>',6)]),512),[[g,a.value.role]])]),e("div",null,[t[51]||(t[51]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3"},"Permissions",-1)),e("div",De,[e("div",Ue,[o(e("input",{"onUpdate:modelValue":t[12]||(t[12]=s=>a.value.permissions.dashboard=s),type:"checkbox",class:"mr-2"},null,512),[[n,a.value.permissions.dashboard]]),t[44]||(t[44]=e("label",{class:"text-sm text-gray-700 dark:text-gray-300"},"Dashboard",-1))]),e("div",Se,[o(e("input",{"onUpdate:modelValue":t[13]||(t[13]=s=>a.value.permissions.products=s),type:"checkbox",class:"mr-2"},null,512),[[n,a.value.permissions.products]]),t[45]||(t[45]=e("label",{class:"text-sm text-gray-700 dark:text-gray-300"},"Products",-1))]),e("div",Ce,[o(e("input",{"onUpdate:modelValue":t[14]||(t[14]=s=>a.value.permissions.orders=s),type:"checkbox",class:"mr-2"},null,512),[[n,a.value.permissions.orders]]),t[46]||(t[46]=e("label",{class:"text-sm text-gray-700 dark:text-gray-300"},"Orders",-1))]),e("div",Re,[o(e("input",{"onUpdate:modelValue":t[15]||(t[15]=s=>a.value.permissions.customers=s),type:"checkbox",class:"mr-2"},null,512),[[n,a.value.permissions.customers]]),t[47]||(t[47]=e("label",{class:"text-sm text-gray-700 dark:text-gray-300"},"Customers",-1))]),e("div",Ye,[o(e("input",{"onUpdate:modelValue":t[16]||(t[16]=s=>a.value.permissions.categories=s),type:"checkbox",class:"mr-2"},null,512),[[n,a.value.permissions.categories]]),t[48]||(t[48]=e("label",{class:"text-sm text-gray-700 dark:text-gray-300"},"Categories",-1))]),e("div",Me,[o(e("input",{"onUpdate:modelValue":t[17]||(t[17]=s=>a.value.permissions.settings=s),type:"checkbox",class:"mr-2"},null,512),[[n,a.value.permissions.settings]]),t[49]||(t[49]=e("label",{class:"text-sm text-gray-700 dark:text-gray-300"},"Settings",-1))]),e("div",Ve,[o(e("input",{"onUpdate:modelValue":t[18]||(t[18]=s=>a.value.permissions.notifications=s),type:"checkbox",class:"mr-2"},null,512),[[n,a.value.permissions.notifications]]),t[50]||(t[50]=e("label",{class:"text-sm text-gray-700 dark:text-gray-300"},"Notifications",-1))])])]),e("div",null,[t[56]||(t[56]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3"},"Action Permissions",-1)),e("div",Ae,[e("div",Ne,[o(e("input",{"onUpdate:modelValue":t[19]||(t[19]=s=>a.value.permissions.canCreate=s),type:"checkbox",class:"mr-2"},null,512),[[n,a.value.permissions.canCreate]]),t[52]||(t[52]=e("label",{class:"text-sm text-gray-700 dark:text-gray-300"},"Can Create",-1))]),e("div",Pe,[o(e("input",{"onUpdate:modelValue":t[20]||(t[20]=s=>a.value.permissions.canEdit=s),type:"checkbox",class:"mr-2"},null,512),[[n,a.value.permissions.canEdit]]),t[53]||(t[53]=e("label",{class:"text-sm text-gray-700 dark:text-gray-300"},"Can Edit",-1))]),e("div",he,[o(e("input",{"onUpdate:modelValue":t[21]||(t[21]=s=>a.value.permissions.canDelete=s),type:"checkbox",class:"mr-2"},null,512),[[n,a.value.permissions.canDelete]]),t[54]||(t[54]=e("label",{class:"text-sm text-gray-700 dark:text-gray-300"},"Can Delete",-1))]),e("div",Ee,[o(e("input",{"onUpdate:modelValue":t[22]||(t[22]=s=>a.value.permissions.canView=s),type:"checkbox",class:"mr-2"},null,512),[[n,a.value.permissions.canView]]),t[55]||(t[55]=e("label",{class:"text-sm text-gray-700 dark:text-gray-300"},"Can View",-1))])])]),e("div",Fe,[t[57]||(t[57]=e("div",null,[e("p",{class:"text-sm font-medium text-gray-900 dark:text-white"},"Active Status"),e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Enable or disable user account")],-1)),e("button",{onClick:t[23]||(t[23]=s=>a.value.isActive=!a.value.isActive),class:b(["relative inline-flex h-6 w-11 items-center rounded-full transition-colors",a.value.isActive?"bg-primary-600":"bg-gray-200"])},[e("span",{class:b(["inline-block h-4 w-4 transform rounded-full bg-white transition-transform",a.value.isActive?"translate-x-6":"translate-x-1"])},null,2)],2)]),e("div",Ke,[e("button",{type:"button",onClick:M,class:"btn-secondary"}," Cancel "),e("button",{type:"submit",class:"btn-primary",disabled:y.value},c(y.value?"Saving...":r.value?"Update User":"Create User"),9,Te)])],32)])])])):h("",!0)]))}};export{Je as default};
