import{o as l,c as g,k as e,d as J,D as C,P as K,J as L,p as c,a as I,u as i,s as F,l as h,E as v,G as E,M as $,j as B,F as z,v as O,h as V,I as Q,L as A,N as W,O as N,g as U}from"./vendor-513bb039.js";import{a as k}from"./index-713483bf.js";import{d as _}from"./toast-489a8a13.js";import{c as D}from"./confirm-78191804.js";import{u as X}from"./products-4e6469c5.js";import{_ as R}from"./LoadingSpinner-18e73781.js";import{r as Y,b as ee,a as te}from"./XMarkIcon-f0b84fb4.js";function re(a,t){return l(),g("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 0 0 .75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 0 0-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0 1 12 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 0 1-.673-.38m0 0A2.18 2.18 0 0 1 3 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 0 1 3.413-.387m7.5 0V5.25A2.25 2.25 0 0 0 13.5 3h-3a2.25 2.25 0 0 0-2.25 2.25v.894m7.5 0a48.667 48.667 0 0 0-7.5 0M12 12.75h.008v.008H12v-.008Z"})])}function se(a,t){return l(),g("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}function ae(a,t){return l(),g("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})])}const q=J("banners",{state:()=>({banners:[],loading:!1,error:null,pagination:{page:1,limit:10,total:0},stats:{totalBanners:0,activeBanners:0,inactiveBanners:0,regularBanners:0,promotionalBanners:0}}),getters:{totalBanners:a=>a.banners.length,activeBanners:a=>a.banners.filter(t=>t.status==="active"),inactiveBanners:a=>a.banners.filter(t=>t.status==="inactive"),regularBanners:a=>a.banners.filter(t=>t.type==="regular"),promotionalBanners:a=>a.banners.filter(t=>t.type==="promotional"),bannersByType:a=>t=>a.banners.filter(s=>s.type===t)},actions:{async fetchBanners(a={}){var t,s;this.loading=!0,this.error=null;try{const n=await k.get("/banners",{params:a});return this.banners=n.data.banners,this.pagination=n.data.pagination||{page:1,limit:10,total:this.banners.length},{success:!0}}catch(n){return this.error=((s=(t=n.response)==null?void 0:t.data)==null?void 0:s.message)||"Failed to fetch banners",{success:!1,error:this.error}}finally{this.loading=!1}},async fetchBannerStats(){var a,t;try{const s=await k.get("/banners/stats/overview");return this.stats=s.data,{success:!0}}catch(s){return this.error=((t=(a=s.response)==null?void 0:a.data)==null?void 0:t.message)||"Failed to fetch banner stats",{success:!1,error:this.error}}},async createBanner(a){var t,s;this.loading=!0,this.error=null;try{const n=await k.post("/banners",a);return this.banners.unshift(n.data),{success:!0,banner:n.data}}catch(n){return this.error=((s=(t=n.response)==null?void 0:t.data)==null?void 0:s.message)||"Failed to create banner",{success:!1,error:this.error}}finally{this.loading=!1}},async updateBanner(a,t){var s,n;this.loading=!0,this.error=null;try{if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid banner ID");if(!t||typeof t!="object")throw new Error("Invalid banner data");const x=await k.put(`/banners/${a.trim()}`,t),y=this.banners.findIndex(p=>p._id===a);return y!==-1&&(this.banners[y]=x.data),{success:!0,banner:x.data}}catch(x){return this.error=((n=(s=x.response)==null?void 0:s.data)==null?void 0:n.message)||x.message||"Failed to update banner",{success:!1,error:this.error}}finally{this.loading=!1}},async deleteBanner(a){var t,s;this.loading=!0,this.error=null;try{if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid banner ID");return await k.delete(`/banners/${a.trim()}`),this.banners=this.banners.filter(n=>n._id!==a),{success:!0}}catch(n){return this.error=((s=(t=n.response)==null?void 0:t.data)==null?void 0:s.message)||n.message||"Failed to delete banner",{success:!1,error:this.error}}finally{this.loading=!1}},async bulkOperations(a,t){var s,n;this.loading=!0,this.error=null;try{const x=await k.post("/banners/bulk",{operation:a,bannerIds:t});return await this.fetchBanners(),{success:!0,message:x.data.message}}catch(x){return this.error=((n=(s=x.response)==null?void 0:s.data)==null?void 0:n.message)||"Failed to perform bulk operation",{success:!1,error:this.error}}finally{this.loading=!1}},async getBanner(a){var t,s;try{if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid banner ID");return{success:!0,banner:(await k.get(`/banners/${a.trim()}`)).data}}catch(n){return this.error=((s=(t=n.response)==null?void 0:t.data)==null?void 0:s.message)||n.message||"Failed to fetch banner",{success:!1,error:this.error}}},async getActiveBannersByType(a){var t,s;try{return{success:!0,banners:(await k.get(`/banners/active/${a}`)).data}}catch(n){return this.error=((s=(t=n.response)==null?void 0:t.data)==null?void 0:s.message)||"Failed to fetch active banners",{success:!1,error:this.error}}}}}),ne={class:"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white dark:bg-gray-800"},oe={class:"mt-3"},ie={class:"flex items-center justify-between mb-4"},de={class:"text-lg font-medium text-gray-900 dark:text-white"},le={key:0,class:"mt-2"},ue={class:"relative w-full h-48 border border-gray-300 dark:border-gray-600 rounded-lg overflow-hidden"},ce=["src","alt"],ge=["value"],pe={class:"flex items-center justify-end space-x-3 pt-4 border-t border-gray-200 dark:border-gray-700"},me=["disabled"],ye={__name:"BannerModal",props:{banner:{type:Object,default:null},isEdit:{type:Boolean,default:!1}},emits:["close","saved"],setup(a,{emit:t}){const s=a,n=t,x=q(),y=X(),p=C(!1),m=K({title:"",type:"regular",image:"",status:"active",productId:""});L(async()=>{if(await y.fetchProducts({limit:100}),s.banner&&s.isEdit){let f="";s.banner.productId&&(typeof s.banner.productId=="object"&&s.banner.productId._id?f=s.banner.productId._id:typeof s.banner.productId=="string"&&(f=s.banner.productId)),Object.assign(m,{title:s.banner.title||"",type:s.banner.type||"regular",image:s.banner.image||"",status:s.banner.status||"active",productId:f})}});const S=async()=>{p.value=!0;try{const f={...m};let o;s.isEdit&&s.banner?o=await x.updateBanner(s.banner._id,f):o=await x.createBanner(f),o.success?(_(s.isEdit?"Banner updated successfully":"Banner created successfully","success"),n("saved")):_(o.error,"error")}catch{_("An error occurred while saving the banner","error")}finally{p.value=!1}},w=()=>{n("close")},j=f=>{f.target.src="https://via.placeholder.com/400x300?text=Image+Not+Found"};return(f,o)=>(l(),g("div",{class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",onClick:F(w,["self"])},[e("div",ne,[e("div",oe,[e("div",ie,[e("h3",de,c(a.isEdit?"Edit Banner":"Create New Banner"),1),e("button",{onClick:w,class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"},[I(i(Y),{class:"h-6 w-6"})])]),e("form",{onSubmit:F(S,["prevent"]),class:"space-y-6"},[e("div",null,[o[5]||(o[5]=e("label",{for:"title",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},[h(" Title "),e("span",{class:"text-red-500"},"*")],-1)),v(e("input",{id:"title","onUpdate:modelValue":o[0]||(o[0]=b=>m.title=b),type:"text",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white",placeholder:"Enter banner title"},null,512),[[E,m.title]])]),e("div",null,[o[7]||(o[7]=e("label",{for:"type",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},[h(" Type "),e("span",{class:"text-red-500"},"*")],-1)),v(e("select",{id:"type","onUpdate:modelValue":o[1]||(o[1]=b=>m.type=b),required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white"},o[6]||(o[6]=[e("option",{value:"regular"},"Regular Banner",-1),e("option",{value:"promotional"},"Promotional Banner",-1)]),512),[[$,m.type]])]),e("div",null,[o[8]||(o[8]=e("label",{for:"image",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},[h(" Image URL "),e("span",{class:"text-red-500"},"*")],-1)),v(e("input",{id:"image","onUpdate:modelValue":o[2]||(o[2]=b=>m.image=b),type:"url",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white",placeholder:"https://example.com/image.jpg"},null,512),[[E,m.image]])]),m.image?(l(),g("div",le,[o[9]||(o[9]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Image Preview ",-1)),e("div",ue,[e("img",{src:m.image,alt:m.title,class:"w-full h-full object-cover",onError:j},null,40,ce)])])):B("",!0),e("div",null,[o[11]||(o[11]=e("label",{for:"status",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Status ",-1)),v(e("select",{id:"status","onUpdate:modelValue":o[3]||(o[3]=b=>m.status=b),class:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white"},o[10]||(o[10]=[e("option",{value:"active"},"Active",-1),e("option",{value:"inactive"},"Inactive",-1)]),512),[[$,m.status]])]),e("div",null,[o[13]||(o[13]=e("label",{for:"productId",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Associated Product ",-1)),v(e("select",{id:"productId","onUpdate:modelValue":o[4]||(o[4]=b=>m.productId=b),class:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white"},[o[12]||(o[12]=e("option",{value:""},"Select a product (optional)",-1)),(l(!0),g(z,null,O(i(y).products,b=>(l(),g("option",{key:b._id,value:b._id},c(b.name)+" - $"+c(b.price)+" ("+c(b.status)+") ",9,ge))),128))],512),[[$,m.productId]])]),e("div",pe,[e("button",{type:"button",onClick:w,class:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"}," Cancel "),e("button",{type:"submit",disabled:p.value,class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50"},[p.value?(l(),V(R,{key:0,class:"h-4 w-4 mr-2"})):B("",!0),h(" "+c(a.isEdit?"Update Banner":"Create Banner"),1)],8,me)])],32)])])]))}},be={class:"space-y-6"},xe={class:"mb-6"},fe={class:"flex items-center justify-between"},he={class:"flex items-center space-x-3"},ve={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6"},we={class:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow"},ke={class:"flex items-center"},_e={class:"p-2 bg-gray-100 dark:bg-gray-700 rounded-lg"},Be={class:"ml-4"},Ce={class:"text-2xl font-bold text-gray-900 dark:text-white"},Ie={class:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow"},Se={class:"flex items-center"},$e={class:"p-2 bg-green-100 dark:bg-green-900 rounded-lg"},je={class:"ml-4"},Me={class:"text-2xl font-bold text-gray-900 dark:text-white"},Ae={class:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow"},Ee={class:"flex items-center"},Ve={class:"p-2 bg-blue-100 dark:bg-blue-900 rounded-lg"},Te={class:"ml-4"},Pe={class:"text-2xl font-bold text-gray-900 dark:text-white"},Fe={class:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow"},Ne={class:"flex items-center"},Ue={class:"p-2 bg-purple-100 dark:bg-purple-900 rounded-lg"},De={class:"ml-4"},Le={class:"text-2xl font-bold text-gray-900 dark:text-white"},ze={class:"bg-white dark:bg-gray-800 shadow rounded-lg mb-6"},Oe={class:"p-6 border-b border-gray-200 dark:border-gray-700"},Re={class:"flex flex-col sm:flex-row gap-4"},qe={class:"flex-1"},Ge={class:"bg-white dark:bg-gray-800 shadow rounded-lg overflow-hidden"},He={class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},Ze={class:"flex items-center justify-between"},Je={class:"flex items-center space-x-2"},Ke={class:"overflow-x-auto"},Qe={key:1,class:"text-center py-8"},We={class:"text-sm text-red-600 mb-4"},Xe={key:2,class:"text-center py-8 text-gray-500"},Ye={key:3,class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},et={class:"bg-gray-50 dark:bg-gray-700"},tt={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},rt={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},st={class:"px-6 py-4 whitespace-nowrap"},at=["value"],nt={class:"px-6 py-4 whitespace-nowrap"},ot={class:"flex items-center"},it={class:"flex-shrink-0 h-12 w-12"},dt=["src","alt"],lt={class:"ml-4"},ut={class:"text-sm font-medium text-gray-900 dark:text-white"},ct={class:"px-6 py-4 whitespace-nowrap"},gt={class:"px-6 py-4 whitespace-nowrap"},pt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white"},mt={key:0},yt={class:"font-medium"},bt={class:"text-gray-500"},xt={key:1,class:"text-gray-400"},ft={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white"},ht={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},vt={class:"flex items-center justify-end space-x-2"},wt=["onClick"],kt=["onClick"],_t={key:0,class:"bg-white dark:bg-gray-800 px-4 py-3 border-t border-gray-200 dark:border-gray-700 sm:px-6"},Bt={class:"flex items-center justify-between"},Ct={key:0,class:"flex-1 flex justify-between sm:hidden"},It=["disabled"],St=["disabled"],$t={class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},jt={class:"text-sm text-gray-700 dark:text-gray-300"},Mt={key:0},At={class:"font-medium"},Et={class:"font-medium"},Vt={class:"font-medium"},Tt={key:1},Pt={class:"font-medium"},Ft={key:0},Nt={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px"},Ut=["disabled"],Dt=["disabled"],Zt={__name:"Banners",setup(a){const t=q(),s=C(!1),n=C(!1),x=C(null),y=C([]),p=C({search:"",type:"",status:""});let m=null;const S=Q({get(){return t.banners.length>0&&y.value.length===t.banners.length},set(u){u?y.value=t.banners.map(r=>r._id):y.value=[]}});L(async()=>{await Promise.all([t.fetchBanners(),t.fetchBannerStats()])}),A(()=>p.value.type,async u=>{await w()}),A(()=>p.value.status,async u=>{await w()}),A(()=>p.value.search,async u=>{m&&clearTimeout(m),m=setTimeout(async()=>{await w()},300)});const w=async()=>{const u={...p.value};u.search||delete u.search,u.type||delete u.type,u.status||delete u.status,await t.fetchBanners(u)},j=u=>{x.value={...u},n.value=!0},f=()=>{s.value=!1,n.value=!1,x.value=null},o=async()=>{f(),await t.fetchBanners(),await t.fetchBannerStats(),_("Banner saved successfully","success")},b=async u=>{if(!await D("Are you sure you want to delete this banner?","This action cannot be undone."))return;const d=await t.deleteBanner(u);d.success?(await t.fetchBannerStats(),_("Banner deleted successfully","success")):_(d.error,"error")},G=async()=>{if(!await D(`Are you sure you want to delete ${y.value.length} banners?`,"This action cannot be undone."))return;const r=await t.bulkOperations("delete",y.value);r.success?(y.value=[],await t.fetchBannerStats(),_(r.message,"success")):_(r.error,"error")},H=()=>{S.value?y.value=t.banners.map(u=>u._id):y.value=[]},T=async()=>{t.pagination.page>1&&await t.fetchBanners({...p.value,page:t.pagination.page-1})},P=async()=>{t.pagination.page<t.pagination.pages&&await t.fetchBanners({...p.value,page:t.pagination.page+1})},Z=u=>new Date(u).toLocaleDateString();return(u,r)=>(l(),g("div",be,[e("div",xe,[e("div",fe,[r[8]||(r[8]=e("div",null,[e("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Banners"),e("p",{class:"text-gray-600 dark:text-gray-400 mt-1"},"Manage your banners and promotional banners")],-1)),e("div",he,[e("button",{onClick:r[0]||(r[0]=d=>s.value=!0),class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},[I(i(ae),{class:"h-4 w-4 mr-2"}),r[7]||(r[7]=h(" Add Banner ",-1))])])])]),e("div",ve,[e("div",we,[e("div",ke,[e("div",_e,[I(i(ee),{class:"w-6 h-6 text-gray-600 dark:text-gray-400"})]),e("div",Be,[r[9]||(r[9]=e("p",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},"Total Banners",-1)),e("p",Ce,c(i(t).stats.totalBanners),1)])])]),e("div",Ie,[e("div",Se,[e("div",$e,[I(i(se),{class:"w-6 h-6 text-green-600 dark:text-green-400"})]),e("div",je,[r[10]||(r[10]=e("p",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},"Active Banners",-1)),e("p",Me,c(i(t).stats.activeBanners),1)])])]),e("div",Ae,[e("div",Ee,[e("div",Ve,[I(i(te),{class:"w-6 h-6 text-blue-600 dark:text-blue-400"})]),e("div",Te,[r[11]||(r[11]=e("p",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},"Regular Banners",-1)),e("p",Pe,c(i(t).stats.regularBanners),1)])])]),e("div",Fe,[e("div",Ne,[e("div",Ue,[I(i(re),{class:"w-6 h-6 text-purple-600 dark:text-purple-400"})]),e("div",De,[r[12]||(r[12]=e("p",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},"Promotional Banners",-1)),e("p",Le,c(i(t).stats.promotionalBanners),1)])])])]),e("div",ze,[e("div",Oe,[e("div",Re,[e("div",qe,[r[13]||(r[13]=e("label",{for:"search",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Search",-1)),v(e("input",{id:"search","onUpdate:modelValue":r[1]||(r[1]=d=>p.value.search=d),type:"text",placeholder:"Search banners...",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white"},null,512),[[E,p.value.search]])]),e("div",null,[r[15]||(r[15]=e("label",{for:"type",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Type",-1)),v(e("select",{id:"type","onUpdate:modelValue":r[2]||(r[2]=d=>p.value.type=d),class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white"},r[14]||(r[14]=[e("option",{value:""},"All Types",-1),e("option",{value:"regular"},"Regular",-1),e("option",{value:"promotional"},"Promotional",-1)]),512),[[$,p.value.type]])]),e("div",null,[r[17]||(r[17]=e("label",{for:"status",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Status",-1)),v(e("select",{id:"status","onUpdate:modelValue":r[3]||(r[3]=d=>p.value.status=d),class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white"},r[16]||(r[16]=[e("option",{value:""},"All Status",-1),e("option",{value:"active"},"Active",-1),e("option",{value:"inactive"},"Inactive",-1)]),512),[[$,p.value.status]])])])])]),e("div",Ge,[e("div",He,[e("div",Ze,[r[18]||(r[18]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"},"Banners",-1)),e("div",Je,[y.value.length>0?(l(),g("button",{key:0,onClick:G,class:"px-3 py-1 text-sm text-red-600 hover:text-red-700"}," Delete Selected ("+c(y.value.length)+") ",1)):B("",!0)])])]),e("div",Ke,[i(t).loading?(l(),V(R,{key:0,message:"Loading banners..."})):i(t).error?(l(),g("div",Qe,[r[19]||(r[19]=e("div",{class:"mb-4"},[e("svg",{class:"w-12 h-12 mx-auto text-red-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),r[20]||(r[20]=e("p",{class:"text-lg font-medium text-gray-900 dark:text-white mb-2"},"Error loading banners",-1)),e("p",We,c(i(t).error),1),e("button",{onClick:w,class:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors duration-200"}," Try Again ")])):i(t).banners.length===0?(l(),g("div",Xe,[r[21]||(r[21]=W('<div class="mb-4"><svg class="w-12 h-12 mx-auto text-gray-300" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg></div><p class="text-lg font-medium text-gray-900 dark:text-white mb-2">No banners found</p><p class="text-sm text-gray-600 dark:text-gray-400">Get started by adding your first banner</p>',3)),e("button",{onClick:r[4]||(r[4]=d=>s.value=!0),class:"mt-4 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors duration-200"}," Add First Banner ")])):(l(),g("table",Ye,[e("thead",et,[e("tr",null,[e("th",tt,[v(e("input",{type:"checkbox","onUpdate:modelValue":r[5]||(r[5]=d=>S.value=d),onChange:H,class:"rounded border-gray-300 dark:border-gray-600 text-primary-600 focus:ring-primary-500"},null,544),[[N,S.value]])]),r[22]||(r[22]=e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Banner ",-1)),r[23]||(r[23]=e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Type ",-1)),r[24]||(r[24]=e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Status ",-1)),r[25]||(r[25]=e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Product ",-1)),r[26]||(r[26]=e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Created ",-1)),r[27]||(r[27]=e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Actions ",-1))])]),e("tbody",rt,[(l(!0),g(z,null,O(i(t).banners,d=>(l(),g("tr",{key:d._id,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[e("td",st,[v(e("input",{type:"checkbox",value:d._id,"onUpdate:modelValue":r[6]||(r[6]=M=>y.value=M),class:"rounded border-gray-300 dark:border-gray-600 text-primary-600 focus:ring-primary-500"},null,8,at),[[N,y.value]])]),e("td",nt,[e("div",ot,[e("div",it,[e("img",{src:d.image,alt:d.title,class:"h-12 w-12 rounded-lg object-cover"},null,8,dt)]),e("div",lt,[e("div",ut,c(d.title),1)])])]),e("td",ct,[e("span",{class:U(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",d.type==="promotional"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"])},c(d.type),3)]),e("td",gt,[e("span",{class:U(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",d.status==="active"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"])},c(d.status),3)]),e("td",pt,[d.productId?(l(),g("div",mt,[e("div",yt,c(d.productId.name),1),e("div",bt,"$"+c(d.productId.price),1)])):(l(),g("span",xt,"No product"))]),e("td",ft,c(Z(d.createdAt)),1),e("td",ht,[e("div",vt,[e("button",{onClick:M=>j(d),class:"text-primary-600 hover:text-primary-900 dark:hover:text-primary-400"}," Edit ",8,wt),e("button",{onClick:M=>b(d._id),class:"text-red-600 hover:text-red-900 dark:hover:text-red-400"}," Delete ",8,kt)])])]))),128))])]))]),i(t).pagination.total>0?(l(),g("div",_t,[e("div",Bt,[i(t).pagination.pages>1?(l(),g("div",Ct,[e("button",{onClick:T,disabled:i(t).pagination.page===1,class:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50"}," Previous ",8,It),e("button",{onClick:P,disabled:i(t).pagination.page>=i(t).pagination.pages,class:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50"}," Next ",8,St)])):B("",!0),e("div",$t,[e("div",null,[e("p",jt,[i(t).pagination.pages>1?(l(),g("span",Mt,[r[28]||(r[28]=h(" Showing ",-1)),e("span",At,c((i(t).pagination.page-1)*i(t).pagination.limit+1),1),r[29]||(r[29]=h(" to ",-1)),e("span",Et,c(Math.min(i(t).pagination.page*i(t).pagination.limit,i(t).pagination.total)),1),r[30]||(r[30]=h(" of ",-1)),e("span",Vt,c(i(t).pagination.total),1),r[31]||(r[31]=h(" results ",-1))])):(l(),g("span",Tt,[e("span",Pt,c(i(t).pagination.total),1),h(" banner"+c(i(t).pagination.total!==1?"s":"")+" found ",1)]))])]),i(t).pagination.pages>1?(l(),g("div",Ft,[e("nav",Nt,[e("button",{onClick:T,disabled:i(t).pagination.page===1,class:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50"}," Previous ",8,Ut),e("button",{onClick:P,disabled:i(t).pagination.page>=i(t).pagination.pages,class:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50"}," Next ",8,Dt)])])):B("",!0)])])])):B("",!0)]),s.value||n.value?(l(),V(ye,{key:0,banner:x.value,"is-edit":n.value,onClose:f,onSaved:o},null,8,["banner","is-edit"])):B("",!0)]))}};export{Zt as default};
